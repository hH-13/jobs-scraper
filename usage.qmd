---
title: 'Job Scraper for Indeed, built with Selenium.'
theme:
  dark: superhero
  light: cerulean
format:
  html:
    page-layout: full
jupyter: python3
---

This is an example usage of the job scraper with a database like DuckDB to persist scraped information for future use and analysis.\
Source: [hh-13/jobs-scraper@Github](https://github.com/hH-13/jobs-scraper/)

```{python}
#| include: false

%config InteractiveShell.ast_node_interactivity='last_expr_or_assign'
```

- Run the example script to load data into the database

```{python}
!poetry run python scraper_example.py 'in.indeed.com' -k 'software engineer' -l 'Remote' -r 4 -n 1 --sort_by_date
```

- Connect to the duckdb database. DuckDB provides APIs in various languages, as well as a CLI tool. We'll use python for this example.

```{python}
import duckdb

con = duckdb.connect("jobs.db")
```

- List tables in the DB

```{python}
con.sql("SHOW TABLES;")
```

- The `SEARCHES` table stores the Search sessions.

```{python}
con.sql("SELECT * FROM SEARCHES;").pl()
```

- `DuckDB` allows us to easily break down and parse this information.

```{python}
con.sql("SELECT UNNEST(JOB_TYPE) AS JOB_TYPES FROM SEARCHES WHERE SEARCH_ID=1;")
```

- The `JOBS` table contains the job details.

```{python}
con.sql("SELECT * FROM JOBS LIMIT 5;")
```

- Links (`<a />`) are stripped out from job descriptions for easier usage with other systems, like LLMs, for extracting more granular details. 

```{python}
from IPython.display import display, Markdown

display(
    Markdown(
        con.sql(
            "SELECT len(DESCRIPTION) DESC_LEN, DESCRIPTION FROM JOBS ORDER BY DESC_LEN LIMIT 1;"
        ).fetchone()[1]
    )
)
```

```{python}
# Finally, don't forget to close the connection!

con.close()
```

What Next?

The possibilites are endless!

- Extract specific details from Job descriptions using Natural-language processing tools, or LLMs using Retrieval-augmented Generation techniques.
- Create an embeddings map of the descriptions to spot patterns.
- Stay on top of the latest trends in the job markets by monitoring the top keywords in a search session.


![Keep Coding](img/keep_coding.webp)\
Keep Coding!

